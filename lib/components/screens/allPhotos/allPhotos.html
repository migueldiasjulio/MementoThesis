<polymer-element name="all-photos">
<template>
  <link rel="stylesheet" href="allPhotos.css">
  <link rel="stylesheet" href="../resources/responsiveGrid.css">
  <link rel="stylesheet" href="../resources/tabbed.css">
  <div id="main" style="height: 100%">

  <section id="firstSection" style="height: calc(100% - 70px); padding: 10px">

      <div id="drop-zone" style="height:100%">
      
      <template if="{{thumbnails.length == 0}}">
          <div id="nothing" style="height:40%"></div> <!-- Just space -->
          <div style="height: 20%">
            <p id="helpMessage1">Drag and Drop your photos here</p>
            <small id="helpMessage2"> or press
              <button id="addPhotos" type="button"
                     style="width: 130px;" 
                     class="btn btn-summary btn-md"
                     on-click="{{openFileUploader}}">Add Photos</button>
            </small>
          </div>
          <div id="nothing" style="height: 40%"></div> <!-- Just space -->
      </template>
        
      <template if="{{thumbnails.length > 0}}">
  
        <section id="photos">
            <template id="thumbnailsShow" repeat="{{thumbnail in thumbnails}}">      
              <div class="mementoImage" id="{{thumbnail.title}}">
                  <img src="{{thumbnail.src}}" style="border-radius: 5px;">
              </div>                  
            </template> 
        </section>
  
      </template>
              
     </div> <!-- drop zone -->
  </section>
  <!-- firstSection -->

  <div id="screenFooter">
    
    <div style="padding:10px"> 
     
    <form class="form-inline" role="form">
    
    <div class="row">
             
      <div class="col col-lg-4 col-md-4 col-sm-4 col-xs-3">
      
      <button id="addPhotos" type="button"
        style="width: 130px;" 
        class="btn btn-summary btn-md"
        on-click="{{openFileUploader}}">Add Photos</button>
        
        <div style="height: 0px; width: 0px; overflow: hidden;">
          <input type="file" id="files" name="files[]" multiple />
        </div>
          
       </div>
       <div class="col col-lg-8 col-md-8 col-sm-8 col-xs-7"> 
         
         <template if="{{thumbnails.length >= 1}}">
            <div style="float: right">
              <div class="btn-group">
                <strong style="float: left; margin-top: 3%">Number of photos: </strong> 
                  <span style="width: 130px" class="input-group">
                    <span  on-click="{{subSummaryNumber}}" class="input-group-addon bfh-number-btn dec">
                      <span class="glyphicon glyphicon-chevron-down"></span>
                    </span>
                    <input type="text" 
                           class="form-control bfh-number" 
                           data-min="1" 
                           data-max="{{thumbnails.length}}" 
                           data-wrap="true"
                           id="numberPhotos"
                           value="{{numberOfPhotosDefined}}">
                    <span on-click="{{incSummaryNumber}}" class="input-group-addon bfh-number-btn">
                      <span class="glyphicon glyphicon-chevron-up"></span>
                    </span>
                  </span>
              </div>  
              <div class="btn-group">
                <button id="startSummary" type="button"
                  on-click="{{buildSummary}}" style="width: 130px"
                  class="btn btn-summary btn-md">
                  Start Summary</button>
              </div>
            </div>
          </template>
        </div>        
      </div> <!-- row -->
      <!-- right side -->
    </form>

  <div id="modal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <p id="modalTitle" style="margin: 0">Creating the Summary</p>
        </div>
        <div class="modal-body">
          <p id="message">Default</p>
        </div>
        <div class="modal-footer" style="margin: 0">
          <button class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button class="btn btn-summary"
            on-click="{{buildSummary}}" id="okButton">Ok</button>
        </div>
      </div>
    </div>
  </div>
  <!-- modal -->
  
    <div id="loading" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
         <button type="button" class="close" data-dismiss="modal">&times;</button>
         <!-- <button type="button" class="close" data-dismiss="modal">&times;</button> -->
          <h4 id="modalTitle" style="margin: 0">Loading your photos...</h4>
        </div>
        <div class="modal-body">
        <div style="margin-left: 45%">
            <img src="../../../resources/images/loading.gif" />
            <h5>Please wait.</h5>
        </div>
      </div>
    </div>
  </div>
  </div>
  <!-- modal -->
</div>
</div>
</div>
<!-- main --> 
</template> 
<script src="../../../../web/resources/js/masonry.pkgd.min.js"></script>
<script type="application/dart" src="allPhotos.dart"></script> 
</polymer-element>