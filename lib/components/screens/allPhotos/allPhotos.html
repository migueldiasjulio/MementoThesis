<polymer-element name="all-photos">
<template>
  <link rel="stylesheet" href="allPhotos.css">
  <div id="main" class="container" style="height: 100%">

  <section id="firstSection" style="height: 87%">

      <div id="drop-zone" style="height:100%">
      
      <template if="{{thumbnails.length == 0}}">
          <div id="nothing" style="height:40%"></div> <!-- Just space -->
          <div style="height: 20%">
            <p id="helpMessage1">Drag and Drop your photos here</p>
            <small id="helpMessage2"> or press
              <button id="addPhotos" type="button"
                     style="width: 130px;" 
                     class="btn btn-summary btn-md" disabled>Add Photos</button>
            </small>
          </div>
          <div id="nothing" style="height: 40%"></div> <!-- Just space -->
      </template>
        
      <template if="{{thumbnails.length > 0}}">
  
        <div class="row" id="mainRow" style="height:100%; overflow-y: scroll">
         <div class="col col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <template id="thumbnailsShow" repeat="{{thumbnail in thumbnails}}">
                   
            <div class="col col-xs-6 col-sm-4 col-md-3 col-lg-2"
                id="{{thumbnail.title}}">
                <img src="{{thumbnail.src}}"
                width="140" 
                height="140"
                class="img-thumbnail">
            </div>
                    
            </template> 
         </div> 
       </div> 
  
      </template>
              
     </div> <!-- drop zone -->
  </section>
  <!-- firstSection -->

  <div id="line" style="height: 0.5%">
    <hr style="border-top: 1px solid #35302c">
  </div>

  <div id="screenFooter" style="height: 6%">
      
    <form class="form-inline" role="form">
    
    <div class="row">
             
      <div class="col col-lg-4">
      <input  class="btn btn-summary" style="width: 130px" type="file" 
                id="files" name="files[]"
                multiple/>    
       </div>
       <div class="col col-lg-8"> 
         
         <template if="{{thumbnails.length >= 1}}">
            <div style="float: right">
              <div class="btn-group">
                <strong style="float: left; margin-top: 3%">Number of photos: </strong> 
                  <span style="width: 130px" class="input-group">
                    <span  on-click="{{subSummaryNumber}}" class="input-group-addon bfh-number-btn dec">
                      <span class="glyphicon glyphicon-chevron-down"></span>
                    </span>
                    <input type="text" 
                           class="form-control bfh-number" 
                           data-min="1" 
                           data-max="{{thumbnails.length}}" 
                           data-wrap="true"
                           id="numberPhotos"
                           value="{{numberOfPhotosDefined}}">
                    <span on-click="{{incSummaryNumber}}" class="input-group-addon bfh-number-btn">
                      <span class="glyphicon glyphicon-chevron-up"></span>
                    </span>
                  </span>
                <!--
                <div class="input-group">
                  <span on-click="{{subSummaryNumber}}" class="glyphicon glyphicon-minus input-group-addon"></span>
                  <input id="numberOfPhotos"
                  style="width: 70px;" class="form-control" type="text" value="{{numberOfPhotosDefined}}" >
                  <span on-click="{{incSummaryNumber}}" class="glyphicon glyphicon-plus input-group-addon"></span>
                </div>
                -->
              </div>
               
              <div class="btn-group">
                <button id="startSummary" type="button"
                  on-click="{{buildSummary}}" style="width: 130px"
                  class="btn btn-summary btn-md">
                  Start Summary</button>
              </div>
      
              <!-- convertToInt(numberOfPhotosDefined) -->
            </div>
          </template>
        
        </div>     
      
      </div> <!-- row -->
      <!-- right side -->
    </form>

  <div id="modal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <p id="modalTitle" style="margin: 0">Creating the Summary</p>
        </div>
        <div class="modal-body">
          <p id="message">Default</p>
        </div>
        <div class="modal-footer" style="margin: 0">
          <button class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button class="btn btn-summary"
            on-click="{{buildSummary}}" id="okButton">Ok</button>
        </div>
      </div>
    </div>
  </div>
  <!-- modal -->
  
    <div id="loading" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
         <button type="button" class="close" data-dismiss="modal">&times;</button>
         <!-- <button type="button" class="close" data-dismiss="modal">&times;</button> -->
          <h4 id="modalTitle" style="margin: 0">Loading your photos...</h4>
        </div>
        <div class="modal-body">
        <div style="margin-left: 45%">
            <img src="../../../resources/images/loading.gif" />
            <h5>Please wait.</h5>
        </div>
      </div>
    </div>
  </div>
  </div>
  <!-- modal -->
  


</div>
</div>
<!-- main --> 
</template> 
<script src="../../../../web/resources/js/masonry.pkgd.min.js"></script>
<script type="application/dart" src="allPhotos.dart"></script> 
</polymer-element>